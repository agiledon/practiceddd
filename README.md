# Pratice DDD

这是我自己写作的DDD原创书籍《领域驱动设计实践》的demo案例。该案例来自我曾经负责设计的真实项目。

# EAS需求与领域模型

## 项目概况

### 项目背景

企业应用套件（EAS）系统是一个根据某集团应用信息化的要求而开发的企业级应用软件。本系统为用户提供大量简单，快捷的操作接口，集团相关部门能更快捷、更方便、更高效地处理日常事务工作，并为管理者提供决策参考、流程简化，建立集团与各部门、员工之间交流的通道，有效地提高工作效率，实现整个集团的信息化管理。

### 项目目标

实现软件集团企业应用信息化，包括人力资源信息管理、项目管理、客户关系管理等。具体目标如下：
* 实现集团日常事务的信息化管理，包括工作日志、考勤、月度工作评价等；
* 解决客户业务需求与集团人员供应之间的矛盾，实现供需平衡，建立沟通的有效通道；
* 实现项目的信息化管理，包括项目开发流程管理、项目人员信息跟踪、统计项目信息等；
* 提供市场信息、人员信息、项目信息的统计，辅助管理者作出正确的决策。

项目要解决的问题：
* 公司市场信息、人员信息不畅通，无法实现人员供需平衡：“供”主要表现在各公司富余人员信息、项目中快结束人员信息、人员招聘信息、学院培训人员信息等不能有效反馈。“需”主要表现在已签约项目人员需求、意向项目人员需求、公司计划人员需求等信息无法及时传递。“供”“需”脱节，信息不畅，不能快速有效的进行供需求匹配。
* 公司各项配套管理问题。各职能部门不能及时获得“供需”信息，也就无法及时对设备、住房、工位、资金进行配套协调管理。
* 辅助决策管理问题。公司领导决策层不能很好的把握全局，无法有侧重的进行资源协调及工作支持，包括市场力度、人才管理、财务政策及公司日常管理。
* 客户信息共享及项目管理质量控制问题。无法跟踪项目人员的工作状态，可能导致项目组成员以及项目质量的失控。


## 需求清单

### 市场需求

#### 管理客户信息

通过对客户全方位信息的统一管理，可以实现不同分公司之间、市场部工作人员之间快捷、方便的信息共享，提高工作效率，并且可为集团运营中心、各分/子公司等负责人提供最实时、有效的客户信息。

作为市场人员，需要详细记录客户（包括潜在客户）的信息。这些信息包括：
* 客户基本信息
* 客户活动记录包括历史活动记录
* 客户背景资料
* 客户公司的商务负责人资料

功能包括：
* 录入客户信息
* 修改客户信息
* 对客户进行详细分类
* 通过多种组合条件、分类对客户信息进行查询
* 标记客户为重点客户

#### 管理市场需求订单

在完成商务谈判并达成合作意向后，市场人员就需要和客户确定市场需求订单。市场人员可以创建一个新的市场需求订单，也可以根据商务合作细则的变化而修改已有的订单。在创建订单后，需要经过需求评估、财务核算、签订合同、项目立项、项目结项、客户付款、合同结束等多个阶段。市场人员应随时跟踪订单状态，并及时向客户反馈。同时，市场人员还可以查询市场需求订单。

功能包括：
* 录入市场需求
* 查询市场需求
* 修改市场需求
* 指定需求承担者
* 更新需求订单状态

#### 合同管理

作为市场人员，可以在系统中新建合同信息，并上传合同附件。签订的合同来自于市场需求，一个市场需求可能创建多份商务合同。在正式签订合同之前，作为合同的创建者，可以向相关部门的负责人发起合同评审流程，并按照评审后的要求修改合同。为了便于对合同的管理，应提供查询合同与跟踪合同进展状态的功能。

功能包括：
* 录入合同
* 添加合同附件
* 添加附加合同
* 指定合同承担者
* 更新合同状态
* 为合同添加评论

**约束条件：**合同一旦经过甲方、乙方审批通过正式签订后，就不允许任何角色和用户修改。如果要修改合同，应该是增加一份附加合同。

### 组织架构

#### 组织架构管理

作为人力资源部的管理人员，可以管理整个集团的组织架构，包括管理部门、岗位、岗位等级，并提供按照部门、岗位、岗位等级的统计功能。

#### 角色管理

包括角色、权限和用户的管理。

### 人力资源

#### 招聘管理

根据市场部的需求以及集团自我的发展，作为人力资源部的管理人员，需要制定招聘计划，更新和查询招聘状态。每次应聘人员的面试活动（包括电话面试、笔试、技术面试等）以及测评结果都需要记录下来归档。

功能包括：
* 制定招聘计划
* 审核招聘计划
* 修改招聘计划，如果是修改已审核的招聘计划，则修改后的计划需要重新发起审核
* 查看招聘计划
* 删除招聘计划
* 输入面试记录与测评结果

#### 储备人才

每一位应聘者投递过来的简历都需要归档，可以通过系统录入简历，又或者根据简历模板文件导入简历内容，同时保存一份原样的简历文件。人力资源部的工作人员可以根据自己需要对储备人才进行分类，从而对简历进行分类管理。

**约束条件：**一旦应聘者通过招聘成为正式员工，则其在人才储备库的信息应转移到员工信息库中。

功能包括：
* 管理储备人才的基本信息包括人才的联系信息，简历来源
* 管理储备人才的技能信息
* 管理储备人才的外语技能信息
* 管理储备人才的项目经历

#### 员工信息管理

管理员工的基本信息、合同、考评，并提供丰富的员工信息查询功能。管理员工技能信息，包括员工技能列表、技能记录、项目经验等。

功能包括：
* 新增员工
* 从储备人才中转为正式员工
* 管理人才的基本信息包括人才的联系信息，简历来源
* 管理人才的技能信息
* 管理人才的外语技能信息
* 管理人才的项目经历，其中员工入职后参与的项目经历也会追加到项目经历信息中

#### 考勤管理

包括考勤数据采集、工作日期设置、差假管理以及考勤信息的查询与报表统计。

#### 工作日志管理

作为集团的员工，可以填写和修改每天的工作日志。员工只能查看自己填写的工作日志，而部门负责人则可以查看属于该部门的所有员工的工作日志。

**注意：**这里的需求划分存在分歧，即工作日志管理应该属于人力资源管理的范围，还是属于项目管理的范围。这**需要与领域专家交流**。针对人力外包公司而言，倘若只要求在项目中的员工填写工作日志，且工作日志恰好就是项目中实现工作任务的内容，那么就可以将工作日志管理放到项目管理的范围内。

### 项目管理

包括项目基本信息管理、项目成员管理、项目进度跟踪和相应的项目查询统计。作为项目管理人员，可以创建项目，维护项目的基本信息，创建和跟踪项目计划，添加或移除项目人员。作为项目的普通成员，可以查看自己的工作情况，并实时更新自己的工作状态，并查看所在项目的进展情况。员工作为项目成员，会作为项目经历更新到员工信息库中。

功能包括：
* 项目管理人员可以创建项目，并管理项目成员；
* 项目管理人员可以根据项目管理流程选择计划模板创建项目计划；
* 项目管理人员可以为迭代创建任务，并将任务分配给项目成员；
* 项目成员可以更新任务状态；
* 项目成员可以为任务添加评论；
* 根据指定条件查询项目情况；
* 根据项目查看项目阶段、发布以及迭代情况；
* 查看指定迭代的所有任务；

### 资源管理

作为服务中心的工作人员，可以管理公司现有的硬件资源信息以及工位信息。通过系统，可以将硬件资源与工位分配给集团的员工，若未分配，则为闲置硬件与工位。

### 统计报表

作为集团的管理者，需要查看集团各部门的工作情况，包括市场需求订单情况、项目进展情况、人员利用率等综合报表，并结合各部门具体情况，定期提供日报表、周报表、月报表、季度报表和年报表。
